<!DOCTYPE html>
<html lang="en">
<head>
    <title>Campmart | Cart</title>

    <link rel="stylesheet" href="../pub/css/style.css">

    <!--Font awesome cdn-->
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css">
    <!---->

    <!--Jquery ui css cdn-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.structure.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.theme.min.css">
    <!---->
</head>
<body>

    <section id="header"> 
        <a href="#">
            <img src="../pub/images/static/site-logo.jpeg" alt="">
        </a>

        <div>
            <ul id="navbar">
                <li><a href="index.html">Home</a></li>
                <li><a href="shop.html">Shop</a></li>
                <li><a href="blog.html">Blog</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="contact.html">Contact</a></li>
                <li id="lg-bag"><a class="active" href="cart.html"><i class="far fa-shopping-cart"></i></a></li>
                <a href="#" id="close"><i class="far fa-times"></i></a>
            </ul>
        </div>
        <div id="mobile">
            <a href="cart.html"><i class="far fa-shopping-cart"></i></a>
            <i id="bar" class="fas fa-outdent"></i>
        </div>
    </section>  
    
    <section id="page-header" class="contact-header contact-color">
        <h2>#Cart</h2>
        <p>Review items before placing your order.</p>
    </section>

    <section id="cart" class="section-p1">
        <table width="100%">
            <thead>
                <tr>
                    <td>Remove</td>
                    <td>Image</td>
                    <td>Product</td>
                    <td>Price</td>
                    <td>Quantity</td>
                    <td>Subtotal</td>
                </tr>
            </thead>
            <tbody>
                <form action="#">
                    <tr>
                        <td><a href="#"><i class="far fa-times-circle"></i></a></td>
                        <td><img src="../pub/images/products/roundneck 3.jpeg" alt=""></td>
                        <td>Plain Roundneck T-shirt</td>
                        <td id="price">NGN5000</td>
                        <td><input type="number" value="1" id="qty"></td>
                        <td id="s-total">NGN5000</td>
                    </tr> 
    
                    <tr>
                        <td><a href="#"><i class="far fa-times-circle"></i></a></td>
                        <td><img src="../pub/images/products/tshirt 1.jpeg" alt=""></td>
                        <td>Checkered T-shirt</td>
                        <td id="price">NGN5000</td>
                        <td><input type="number" value="1" id="qty"></td>
                        <td id="s-total">NGN5000</td>
                    </tr>
                </form> 
            </tbody>
        </table>
    </section>

    <section id="cart-add" class="section-p1">
        <div id="coupon">
            <h3>Apply Coupon</h3>
            <div>
                <form action="#">
                    <input type="text" placeholder="Enter Your Coupon">
                    <button type="submit" class="normal">Apply</button>
                </form>
            </div>
        </div>

        <div id="subtotal">
            <h3>Cart Totals</h3>
            <table>
                <tr>
                    <td>Cart Subtotal</td>
                    <td id="cartSubtotal">NGN10000</td>
                </tr>

                <tr>
                    <td>Shipping</td>
                    <td id="shipping-fee">Free</td>
                </tr>

                <tr>
                    <td><strong>Total</strong></td>
                    <td><strong id="orderTotal">NGN10000</strong></td>
                </tr> 
            </table>
            <button class="normal" type="submit">Place Order</button>
        </div>
    </section>

    <footer class="section-p1">
        <div class="col">
            <img src="../pub/images/static/site-logo.jpeg" alt="">
            <h4>Contact</h4>
            <p><strong>Address: </strong> 123, Jaja of Opobo street, Lagos</p>
            <p><strong>Phone: </strong> +234 812 345 6789</p>
            <p><strong>Hours: </strong> 07:00 - 19:00 Mon - Sun</p>

            <div class="follow">
                <h4>Follow us</h4>
                <div class="icon">
                    <i class="fab fa-facebook-f"></i>
                    <!-- <i class="fab fa-twitter"></i> -->
                    <i class="fab fa-instagram"></i>
                </div>
            </div>
        </div>

        <div class="col">
            <h4>About</h4>
            <a href="About.html">About Us</a>
            <a class="di">Delivery Information</a>
            <a class="pp">Privacy Policy</a>
            <a class="tc">Terms & Conditions</a>
            <a href="contact.html">Contact Us</a>
        </div>

        <div class="col">
            <h4>My Account</h4>
            <a href="#newsletter">Sign Up For Newletter</a>
            <!-- <a href="login.html">Login</a>
            <a href="#">Logout</a> -->
            <a href="cart.html">View Cart</a>
            <!-- <a href="#">My Whislist</a>
            <a href="#">Track My Order</a> -->
        </div>
 
        <!-- <div class="col install">
            <h4>Install Mobile App</h4>
            <p>From App Store or Google Play</p>
            <div class="row">
                <a href="#">
                    <img src="../pub/images/static/app-store.jpg" alt="">
                </a>
                <a href="#">
                    <img src="../pub/images/static/google-play.jpg" alt="">
                </a>
            </div>
            <p>Secured Payment Gateways</p>
            <img src="../pub/images/static/debit-cards.png" alt="">             
        </div> -->

        <div class="copyright">
            <p>&copy; 2022, Campmart, All rights reserved.</p>
        </div>
    </footer>

    <section class="tandc" title="Terms and Conditions">
        <div>
            <h3>As a seller</h3>
            <ul>
                <li>Term and Condition 1</li>
                <li>Term and Condition 2</li>
                <li>Term and Condition 3</li>
                <li>Term and Condition 4</li>
            </ul>
        </div>

        <div>
            <h3>As a Buyer</h3>
            <ul>
                <li>Term and Condition 1</li>
                <li>Term and Condition 2</li>
                <li>Term and Condition 3</li>
                <li>Term and Condition 4</li>
            </ul>
        </div>
    </section>
    
    <section class="privacy" title="Privacy Policy">
        Lorem ipsum dolor sit amet consectetur, adipisicing elit. Rerum cumque totam inventore vel iste dignissimos dolorem odit necessitatibus. Doloremque pariatur corporis nisi, dolorem placeat deserunt earum deleniti quas facilis quos!
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Dicta eius tempora, eaque earum debitis dolor aspernatur quod officiis eum doloremque voluptates ducimus voluptas blanditiis vero at quas quasi, reprehenderit labore?
    </section>

    <section class="delInfo" title="Delivery Information">
        <h3>How do we deliver your package ?</h3>
        <ul>
            <li>Step 1</li>
            <li>Step 2</li>
            <li>Step 3</li>
            <li>Step 4</li>
        </ul>
    </section>
    
    <!--Vanilla Js-->
    <script src="../pub/js/script.js"></script>
    <!---->

    <!--Cart.html page JS-->
    <script>
        // qty, prices and subtotals have the same length
        let qty = document.querySelectorAll('#qty');
        let prices = document.querySelectorAll('#price');
        let subtotals = document.querySelectorAll('#s-total');

        let cartSubtotal = document.querySelector('#cartSubtotal');

        let shippingFee = document.querySelector('#shipping-fee').textContent;
        
        let orderTotal = document.querySelector('#orderTotal');

        function getOrderTotal() {// order subtotal = cart subtotal + shipping fee
            if(shippingFee.trim().toLowerCase() === 'free') {
                orderTotal.textContent = cartSubtotal.textContent;
            }else {
                let shippingFeePrice = parseInt(shippingFee.slice(3));
                console.log(shippingFeePrice)
                let cartFee = parseInt(cartSubtotal.textContent.slice(3));
                console.log(cartFee)

                let total = shippingFeePrice + cartFee;

                orderTotal.textContent = 'NGN'+total.toString()
            }
        }
        getOrderTotal();

        for (let i = 0; i < qty.length; i++) {
            qty[i].addEventListener('input', () => {
                // check if quantity is zero or negative
                if (qty[i].value < 1) {
                    qty[i].value = 1;
                }

                getSubtotal(prices[i].textContent, qty[i].value, subtotals[i]); 
                getCartSubtotal();
                getOrderTotal(); 
            })
        }

        function getSubtotal(price, qty, subtotal) { // item subtotal
            //get number part in price and convert to number type
            // NGN5000 give 5000 as type number
            let p = parseInt(price.slice(3)); 

            // multiply the value by the quantity
            let itemSubtotal = p * qty;

            // change value of itemSubtotal to string and asign the subtotal to it
            subtotal.textContent = 'NGN'+itemSubtotal.toString();
        }

        function getCartSubtotal() { // cart subtotal
            let total = 0;
            // loop through item subtotals and add their values to total variable
            subtotals.forEach(s => {
                let p = parseInt(s.textContent.slice(3))
                total += p
            })

            cartSubtotal.textContent = 'NGN'+total.toString();
        }
    </script>
    <!---->

    <!--Jquery ui js cdn-->
    <script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <!---->

    <!--Jquery script-->
    <script>
        $('.tc').click(function() {
            $('.tandc').css('display', 'block');

            $('.tandc').dialog({
                draggable: false,
                modal: true,
                resizable:true,
                height: 400,
                width: 300,

                buttons: [
                    {
                        text: "I Agree",
                        icon: 'ui-icon-check',
                        click: function() {
                            $(this).dialog('close')
                        },
                    },
                ]
            });
        })

        $('.pp').click(function() {
            $('.privacy').css('display', 'block');

            $('.privacy').dialog({
                draggable: false,
                modal: true,
                resizable:true,
                height: 300,
                width: 500,

                buttons: [
                    {
                        text: "Ok",
                        icon: 'ui-icon-check',
                        click: function() {
                            $(this).dialog('close')
                        },
                    },
                ]
            });
        })

        $('.di').click(function() {
            $('.delInfo').css('display', 'block');

            $('.delInfo').dialog({
                draggable: false,
                modal: true,
                resizable:true,
                height: 300,
                width: 300,

                buttons: [
                    {
                        text: "Ok",
                        icon: 'ui-icon-check',
                        click: function() {
                            $(this).dialog('close')
                        },
                    },
                ]
            });
        })
    </script>
    <!---->
</body>
</html> 